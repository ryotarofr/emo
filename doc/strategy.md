# tebiki 技術戦略 & Eden.so 差別化分析

## 1. 現状の整理

### tebiki の現在地

Tauri + SolidJS + Rust(Axum) で構築されたデスクトップアプリ。以下のコア機能が実装済み:

- DAGベースのパイプライン実行エンジン（トポロジカルソート、autoChain）
- WebSocketリアルタイム更新
- テンプレートシステム（ワークフローテンプレート、スナップショットエクスポート）
- 実行タイムライン
- GridStack ウィジェットレイアウト（5種: Text / Visual / AI / Folder / Object）
- Mermaid ダイアグラムレンダリング
- マルチエージェントオーケストレーション（承認フロー）
- トースト通知システム

### Eden.so の正体

「All Content, Files, & AI In One Place」を掲げるWeb SaaS。3つの柱:

1. **Better Drive** — ファイル・リンク・ノートを保存すると自動で文字起こし・タグ付け・AI参照可能に
2. **Visual Search** — 「ピンクのセーター」等の記述で動画フレームやPDFの該当箇所を検索
3. **Canvas with Spatial AI** — ファイル/リンク/ノートをキャンバスに配置し、AIチャットに接続

ターゲットは個人クリエイター・コンテンツ制作者。月額$29〜のSaaS。

---

## 2. 根本的なポジショニングの違い

| | Eden.so | tebiki |
|---|---|---|
| **本質** | コンテンツ整理 + AIチャット | AIエージェントの**オーケストレーション**エンジン |
| **ユーザー** | クリエイター・個人 | 開発者・エンジニア・エンタープライズ |
| **データモデル** | ファイル→AIへの1対1接続 | DAG（有向非巡回グラフ）による多段パイプライン |
| **インフラ** | クラウドSaaS | ローカルファースト（Tauri） |

**結論: Eden.so は直接の競合ではなく、隣接領域のプロダクト。** tebikiが本当に戦うべき競合は LangFlow、Flowise、Dify、n8n + AI のような「AIワークフロービルダー」。

---

## 3. 差別化のための5つの戦略軸

### 軸1: パイプライン実行エンジンの深化（最大の武器）

既に `topologicalSort` と autoChain が実装済み。さらに強化する方向:

- **条件分岐（if/else）**: エッジの `evaluateEdgeCondition` を分岐ルーティングに拡張
- **ループ構造**: 「品質スコアが閾値以上になるまでリトライ」のような feedback loop
- **並列実行**: 依存関係のないノードの同時実行（現在は直列）
- **サブパイプライン**: パイプラインを部品として再利用（関数呼び出しのような入れ子構造）

これは Eden.so にも LangFlow にも完全な形では存在しない。**「AIパイプラインの実行制御」に特化した唯一のデスクトップツール**として打ち出せる。

### 軸2: ローカルファースト + データ主権

Tauri の FS 統合は既にある。さらに攻めるには:

- **ローカルLLM対応（Ollama/llama.cpp）**: APIキーすら外に出さない完全オフライン実行
- **ローカルベクトルDB**: Qdrant/ChromaDB をサイドカーとして同梱、RAG をローカル完結
- **Git統合**: プロジェクトフォルダの変更差分をAIコンテキストに自動注入
- **機密ファイルスキャン**: `.env` や認証情報を含むファイルの自動検出・除外

エンタープライズ顧客のセキュリティ要件を満たせるのは、クラウドSaaSには真似できない構造的優位。

### 軸3: 可観測性（Observability）— モニタリングダッシュボードとしての価値

プロダクト名「tebiki（手引き）」の真価を発揮するポイント:

- **実行トレース**: 各エージェントの入力→プロンプト→出力→所要時間をスパン単位で記録（OpenTelemetry的アプローチ）
- **コスト追跡**: トークン消費量・API費用をパネルごと/パイプラインごとに集計
- **品質メトリクス**: LLM出力の長さ、構造化度、エラー率をダッシュボードで表示
- **リプレイ機能**: 過去のパイプライン実行をそのまま再生し、どこで失敗したか/どう改善できるかを検証

Eden.so は「使う」ツール。tebiki は「使って、理解して、改善する」ツール。

### 軸4: 構造化出力 + ビジュアライゼーション

Mermaid 統合は既にある。さらに:

- **AIによる出力形式の自動判定**: 出力が JSON→テーブル、関係データ→ER図、手順→フローチャートに自動レンダリング
- **インタラクティブ出力**: 生成されたテーブルのフィルタ・ソート、ダイアグラムのズーム・ドリルダウン
- **出力の再利用**: あるパネルの出力テーブルを別のパネルの入力としてドラッグ接続

### 軸5: 開発者体験（DX）

tebiki のターゲットが開発者なら、DXで圧倒的に差をつける:

- **YAML/JSONによるパイプライン定義**: GUIだけでなくコードでもワークフローを定義・バージョン管理
- **CLI連携**: `tebiki run pipeline.yaml` でヘッドレス実行、CI/CDに組み込み可能
- **SDK/API**: 外部アプリから tebiki のパイプラインを呼び出せるAPI
- **プラグインシステム**: カスタムウィジェット・カスタムLLMプロバイダーを npm パッケージとして追加

---

## 4. 推奨する優先順位

現在の実装状況を踏まえた、最もインパクトのある順序:

| 優先度 | 施策 | 理由 |
|---|---|---|
| **P0** | マルチLLMプロバイダー（OpenAI + Ollama） | 単一プロバイダーでは説得力がない。Ollama対応で「ローカルファースト」の訴求も強化 |
| **P0** | パイプライン並列実行 + 条件分岐 | DAGエンジンの本領発揮。デモで見せた時のインパクトが最大 |
| **P1** | 実行トレース + コスト追跡 | 「モニタリングダッシュボード」を名乗るなら必須 |
| **P1** | YAML定義 + ヘッドレス実行 | 開発者向けの決定打。GUIでプロトタイプ→CLIで本番運用 |
| **P2** | ローカルRAG（Qdrant同梱） | 差別化は大きいが実装コストも大きい |
| **P2** | プラグインシステム | エコシステム構築だが、ユーザーベースが必要 |

---

## 5. ポジショニング

> **tebiki = AIエージェントのための「Visual Studio Code」**
>
> Eden.so が「AIチャット付き Dropbox」なら、tebiki は「AIパイプラインを組み、実行し、監視し、改善するためのIDE」。

ローカルファースト × DAGパイプライン × 可観測性の3軸は、Eden.so だけでなく LangFlow や Dify とも差別化できる独自のポジション。

---

## 6. 真の競合マッピング

tebiki が意識すべき競合を整理:

| プロダクト | 特徴 | tebiki の優位点 |
|---|---|---|
| **LangFlow** | Pythonベース、Webノードエディタ | デスクトップネイティブ、Rust高速バックエンド、実行監視 |
| **Flowise** | LangChain向けGUI、シンプル | 多段DAG、承認フロー、構造化出力レンダリング |
| **Dify** | フルスタックLLMアプリプラットフォーム | ローカルファースト、データ主権、カスタマイズ性 |
| **n8n + AI** | 汎用自動化 + AI拡張 | AI特化の実行エンジン、LLM可観測性 |
| **Eden.so** | コンテンツ整理 + AIチャット | パイプライン実行、マルチエージェント、開発者向け |
